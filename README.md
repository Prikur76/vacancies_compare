# Сравнение вакансий 
Сервис позволяет получить с сайтов [hh.ru](https://hh.ru/) и [superjob.ru](https://russia.superjob.ru/) статистику по количеству 
доступных вакансий и предлагаемого уровня средней заработной платы специалистов по наиболее 
востребованным языкам программирования. 

## Как работает
По умолчанию поиск осуществляется по всей базе вакансий в России, по которым указаны размеры 
заработной платы. Результат выводится в табличном виде в консоль. По необходимости, сервис позволяет добавить в 
качестве фильтров поиска указание города, периода публикации вакансии, предварительной выборки вакансий только 
с указанием зарплат. 

Максимальное количество записей с вакансиями для расчёта средней заработной платы, предоставляемых сервисами:
 - headhunter - 2000;
 - superjob - 520.

### Как установить

* Python3 должен уже быть установлен.
* Для изоляции проекта рекомендуется использовать [virtualenv/venv](https://docs.python.org/3/library/venv.html).
* Чтобы развернуть зависимости, используйте **`pip`** (или **`pip3`**, если есть конфликт с Python2):

```bash
pip install -r requirements.txt
```

### Авторизация
1. Для каждого запроса на сайт [superjob.ru](https://russia.superjob.ru/) необходимо передавать секретный ключ (Secret key), 
для получения которого необходимо зарегистрировать приложение.
2. Зарегистрируйтесь на сайте [https://api.superjob.ru/](https://api.superjob.ru/), заполните форму получите Secret key, 
например такой: **v3.r.137326471.3be57492bc23441e6709d8ca82677eee1bae130d.897c300450d85c52bc85d054a2e27753b3a87d53**.
3. Полученный ключ запишите в переменную окружения .env, например:
**```SUPERJOB_SECRET_KEY=v3.r.137326471.3be57492bc23441e6709d8ca82677eee1bae130d.897c300450d85c52bc85d054a2e27753b3a87d53```**

### Примеры
Для получения справки используйте аргумент ```-h``` или ```--help```.

```bash
python main.py --help
```
Вывод:
```
usage: main.py [-h] [-a AREA] [-p PERIOD] [-ws WITH_SALARIES]

Поиск средней зарплаты по вакансиям

options:
  -h, --help            show this help message and exit
  -a AREA, --area AREA  Ввести наименование города
  -p PERIOD, --period PERIOD
                        Введите число - период поиска
  -ws WITH_SALARIES, --with_salaries WITH_SALARIES
                        Введите 1 для включения фильтра вакансий с зарплатами
```
В терминале запустите файл **```main.py```**, при необходимости введите в качестве позиционных аргументов 
следующие необязательные параметры:
 - **```-a```** или **```--area```**;
 - **```-p```** или **```--period```**;
 - **```-ws```** или **```--with_salaries```**.

Примеры запросов:
```bash
python main.py -a москва -p 10
```

Вывод:
```
 +HeadHunter Москва------+------------------+---------------------+------------------+
| Язык программирования | Вакансий найдено | Вакансий обработано | Средняя зарплата |
+-----------------------+------------------+---------------------+------------------+
| Java                  | 1671             | 293                 | 218577           |
| Python                | 2926             | 447                 | 187878           |
| C#                    | 777              | 213                 | 180203           |
| С++                   | 958              | 298                 | 175911           |
+-----------------------+------------------+---------------------+------------------+

 +SuperJob Москва--------+------------------+---------------------+------------------+
| Язык программирования | Вакансий найдено | Вакансий обработано | Средняя зарплата |
+-----------------------+------------------+---------------------+------------------+
| С++                   | 25               | 19                  | 144947           |
| Java                  | 9                | 5                   | 136200           |
| C#                    | 10               | 8                   | 119000           |
| Python                | 34               | 23                  | 80568            |
+-----------------------+------------------+---------------------+------------------+
```
или
```bash
python main.py -a москва -p 10 -ws 1
```

Вывод:
```
  +HeadHunter Москва------+------------------+---------------------+------------------+
| Язык программирования | Вакансий найдено | Вакансий обработано | Средняя зарплата |
+-----------------------+------------------+---------------------+------------------+
| Java                  | 313              | 294                 | 218446           |
| Python                | 616              | 565                 | 183319           |
| C#                    | 220              | 213                 | 180203           |
| С++                   | 319              | 300                 | 175485           |
+-----------------------+------------------+---------------------+------------------+

 +SuperJob Москва--------+------------------+---------------------+------------------+
| Язык программирования | Вакансий найдено | Вакансий обработано | Средняя зарплата |
+-----------------------+------------------+---------------------+------------------+
| С++                   | 19               | 19                  | 144947           |
| Java                  | 5                | 5                   | 136200           |
| C#                    | 8                | 8                   | 119000           |
| Python                | 23               | 23                  | 80568            |
+-----------------------+------------------+---------------------+------------------+
```

### Цель проекта

Код написан в образовательных целях на онлайн-курсе для веб-разработчиков [dvmn.org](https://dvmn.org).

### Лицензия

Этот проект лицензирован по лицензии MIT - подробности см. в файле [ЛИЦЕНЗИЯ](LICENSE).
